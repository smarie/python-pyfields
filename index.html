



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.13">
    
    
      
        <title>pyfields</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.077507d7.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pyfields" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="." title="pyfields" class="md-header-nav__button md-logo" aria-label="pyfields">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            pyfields
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Home
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/smarie/python-pyfields/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="pyfields" class="md-nav__button md-logo" aria-label="pyfields">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    pyfields
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/smarie/python-pyfields/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Home
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="." title="Home" class="md-nav__link md-nav__link--active">
      Home
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installing" class="md-nav__link">
    Installing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    Usage
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-defining-a-field" class="md-nav__link">
    1. Defining a field
  </a>
  
    <nav class="md-nav" aria-label="1. Defining a field">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-field-vs-python-attr" class="md-nav__link">
    a - Field vs. Python attr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-default-value-factory" class="md-nav__link">
    b - Default value factory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c-read-only-fields" class="md-nav__link">
    c - Read-only fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d-type-validation" class="md-nav__link">
    d - Type validation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#e-nonable-fields" class="md-nav__link">
    e - Nonable fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f-value-validation" class="md-nav__link">
    f - Value validation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#g-converters" class="md-nav__link">
    g - Converters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#h-native-vs-descriptor" class="md-nav__link">
    h - Native vs. Descriptor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-adding-a-constructor" class="md-nav__link">
    2. Adding a constructor
  </a>
  
    <nav class="md-nav" aria-label="2. Adding a constructor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-make_init" class="md-nav__link">
    a - make_init
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-init_fields" class="md-nav__link">
    b - @init_fields
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-simplifying" class="md-nav__link">
    3. Simplifying
  </a>
  
    <nav class="md-nav" aria-label="3. Simplifying">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-autofields" class="md-nav__link">
    a - @autofields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-vtypes" class="md-nav__link">
    b - VTypes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-misc" class="md-nav__link">
    4. Misc.
  </a>
  
    <nav class="md-nav" aria-label="4. Misc.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hash-dict-eq-repr" class="md-nav__link">
    hash, dict, eq, repr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slots" class="md-nav__link">
    Slots
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main-features-benefits" class="md-nav__link">
    Main features / benefits
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    See Also
  </a>
  
    <nav class="md-nav" aria-label="See Also">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#others" class="md-nav__link">
    Others
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#want-to-contribute" class="md-nav__link">
    Want to contribute ?
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="why/" title="Why fields" class="md-nav__link">
      Why fields
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="api_reference/" title="API reference" class="md-nav__link">
      API reference
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="changelog/" title="Changelog" class="md-nav__link">
      Changelog
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installing" class="md-nav__link">
    Installing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    Usage
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-defining-a-field" class="md-nav__link">
    1. Defining a field
  </a>
  
    <nav class="md-nav" aria-label="1. Defining a field">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-field-vs-python-attr" class="md-nav__link">
    a - Field vs. Python attr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-default-value-factory" class="md-nav__link">
    b - Default value factory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c-read-only-fields" class="md-nav__link">
    c - Read-only fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d-type-validation" class="md-nav__link">
    d - Type validation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#e-nonable-fields" class="md-nav__link">
    e - Nonable fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f-value-validation" class="md-nav__link">
    f - Value validation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#g-converters" class="md-nav__link">
    g - Converters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#h-native-vs-descriptor" class="md-nav__link">
    h - Native vs. Descriptor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-adding-a-constructor" class="md-nav__link">
    2. Adding a constructor
  </a>
  
    <nav class="md-nav" aria-label="2. Adding a constructor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-make_init" class="md-nav__link">
    a - make_init
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-init_fields" class="md-nav__link">
    b - @init_fields
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-simplifying" class="md-nav__link">
    3. Simplifying
  </a>
  
    <nav class="md-nav" aria-label="3. Simplifying">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-autofields" class="md-nav__link">
    a - @autofields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-vtypes" class="md-nav__link">
    b - VTypes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-misc" class="md-nav__link">
    4. Misc.
  </a>
  
    <nav class="md-nav" aria-label="4. Misc.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hash-dict-eq-repr" class="md-nav__link">
    hash, dict, eq, repr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slots" class="md-nav__link">
    Slots
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main-features-benefits" class="md-nav__link">
    Main features / benefits
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    See Also
  </a>
  
    <nav class="md-nav" aria-label="See Also">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#others" class="md-nav__link">
    Others
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#want-to-contribute" class="md-nav__link">
    Want to contribute ?
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/smarie/python-pyfields/edit/master/docs/index.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="pyfields">pyfields<a class="headerlink" href="#pyfields" title="Permanent link">&para;</a></h1>
<p><em>Define fields in python classes. Easily.</em></p>
<p><a href="https://pypi.python.org/pypi/pyfields/"><img alt="Python versions" src="https://img.shields.io/pypi/pyversions/pyfields.svg" /></a> <a href="https://travis-ci.org/smarie/python-pyfields"><img alt="Build Status" src="https://travis-ci.org/smarie/python-pyfields.svg?branch=master" /></a> <a href="https://smarie.github.io/python-pyfields/junit/report.html"><img alt="Tests Status" src="https://smarie.github.io/python-pyfields/junit/junit-badge.svg?dummy=8484744" /></a> <a href="https://codecov.io/gh/smarie/python-pyfields"><img alt="codecov" src="https://codecov.io/gh/smarie/python-pyfields/branch/master/graph/badge.svg" /></a></p>
<p><a href="https://smarie.github.io/python-pyfields/"><img alt="Documentation" src="https://img.shields.io/badge/doc-latest-blue.svg" /></a> <a href="https://pypi.python.org/pypi/pyfields/"><img alt="PyPI" src="https://img.shields.io/pypi/v/pyfields.svg" /></a> <a href="https://pepy.tech/project/pyfields"><img alt="Downloads" src="https://pepy.tech/badge/pyfields" /></a> <a href="https://pepy.tech/project/pyfields"><img alt="Downloads per week" src="https://pepy.tech/badge/pyfields/week" /></a> <a href="https://github.com/smarie/python-pyfields/stargazers"><img alt="GitHub stars" src="https://img.shields.io/github/stars/smarie/python-pyfields.svg" /></a></p>
<div class="admonition success">
<p class="admonition-title"><code>pyfields</code> is now automatically supported by <code>autoclass</code> ! See <a href="#hash-dict-eq-repr">here</a> for details.</p>
</div>
<p><code>pyfields</code> provides a simple and elegant way to define fields in python classes. With <code>pyfields</code> you explicitly define all aspects of a field (default value/factory, type, validators, converters, documentation...) in a single place, and can refer to it from other places. </p>
<p>It is designed with <strong>development freedom</strong> as primary target: </p>
<ul>
<li>
<p><em>code segregation</em>. Everything is in the field, not in <code>__init__</code>, not in <code>__setattr__</code>.</p>
</li>
<li>
<p><em>absolutely no constraints</em>. Your class does not need to use type hints. You can use python 2 and 3.5. Your class is not modified behind your back: <code>__init__</code> and <code>__setattr__</code> are untouched. You do not need to decorate your class. You do not need your class to inherit from anything. This is particularly convenient for mix-in classes, and in general for users wishing to stay in control of their class design.</p>
</li>
<li>
<p><em>no performance loss by default</em>. If you use <code>pyfields</code> to declare fields without adding validators nor converters, instance attributes will be replaced with a native python attribute on first access, preserving the same level of performance than what you are used to.</p>
</li>
</ul>
<p>It provides <strong>many optional features</strong> that will make your object-oriented developments easier:</p>
<ul>
<li>
<p>all field declarations support <em>type hints</em> and <em>docstring</em>,</p>
</li>
<li>
<p>optional fields can have <em>default values</em> but also <em>default values factories</em> (such as <em>"if no value is provided, copy this other field"</em>)</p>
</li>
<li>
<p>adding <em>validators</em> and <em>converters</em> to a field does not require you to write complex logic nor many lines of code. This makes field access obviously slower than the default native implementation but it is done field by field and not on the whole class at once, so fast native fields can coexist with slower validated ones (segregation principle).</p>
</li>
<li>
<p>initializing fields in your <em>constructor</em> is very easy and highly customizable</p>
</li>
</ul>
<p>Finally, it offers an API that other libraries can leverage to <a href="api_reference/#api">get the list of fields</a>. For example <code>autoclass</code> now leverages <code>pyfields</code> to automatically add hash/dict/eq/repr to your class.</p>
<p>If your first reaction is "what about <code>attrs</code> / <code>dataclasses</code> / <code>pydantic</code> / <code>characteristic</code> / <code>traits</code> / <code>traitlets</code> / ...", well all of these inspired <code>pyfields</code> a great deal, but all of these have stronger constraints on the class - which I did not want. Please have a look <a href="why/">here</a> for a complete list of inspirators.</p>
<h2 id="installing">Installing<a class="headerlink" href="#installing" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code>&gt; pip install pyfields
</code></pre></div>


<p>For advanced type checking capabilities, <code>pyfields</code> requires that <code>typeguard</code> or <code>pytypes</code> is installed. Note that type checking performance (speed) mostly depends on the choice of type checking library. Not installing any will be faster, but will not support all of the <code>typing</code> constructs. Let's install <code>typeguard</code> for now:</p>
<div class="codehilite"><pre><span></span><code>&gt; pip install typeguard
</code></pre></div>


<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h2>
<p>Below we show a few prototypical examples to illustrate how versatile <code>pyfields</code> is. See <a href="./usage.md">usage</a> for a more detailed, step-by-step explanation of all features.</p>
<div class="admonition warning">
<p class="admonition-title">compliance with python 2's old-style classes</p>
<p>All examples in this doc assume python 3 and therefore show new-style classes without explicit inheritance of <code>object</code>, for readability. If you use python 2 do not forget to explicitly use new-style classes otherwise some features will not be available (the ones where a setter on the field is required: validation, conversion, read-only).</p>
</div>
<h3 id="1-defining-a-field">1. Defining a field<a class="headerlink" href="#1-defining-a-field" title="Permanent link">&para;</a></h3>
<p>A field is defined as a class member using the <code>field()</code> method. The idea (not new) is that you declare in a single place all aspects related to each field. For mandatory fields you do not need to provide any argument. For optional fields, you will typically provide a <code>default</code> value or a <code>default_factory</code> (we will see that <a href="#b-default-value-factory">later</a>).</p>
<p>For example let's create a <code>Wall</code> class with one <em>mandatory</em> <code>height</code> and one <em>optional</em> <code>color</code> field:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">pyfields</span> <span class="kn">import</span> <span class="n">field</span>

<span class="k">class</span> <span class="nc">Wall</span><span class="p">:</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Height of the wall in mm.&quot;</span><span class="p">)</span>
    <span class="n">color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Color of the wall.&quot;</span><span class="p">)</span>
</code></pre></div>


<div class="admonition info">
<p class="admonition-title">Compliance with python &lt; 3.6</p>
<p>If you use python &lt; <code>3.6</code> you know that PEP484 type hints can not be declared as shown above. However you can provide them as <a href="https://www.python.org/dev/peps/pep-0484/#type-comments">type comments</a>, or using the <code>type_hint</code> argument (recommended if you wish to use <a href="#d-type-validation">type validation</a>).</p>
</div>
<h4 id="a-field-vs-python-attr">a - Field vs. Python attr<a class="headerlink" href="#a-field-vs-python-attr" title="Permanent link">&para;</a></h4>
<p>By default when you use <code>field()</code>, nothing more than a "lazy field" is created on your class. This field will only be activated when you access it on an instance. That means that you are free to implement <code>__init__</code> as you wish, or even to rely on the default <code>object</code> constructor to create instances:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># instantiate using the default `object` constructor</span>
<span class="n">w</span> <span class="o">=</span> <span class="n">Wall</span><span class="p">()</span>
</code></pre></div>


<p>No exception here even if we did not provide any value for the mandatory field <code>height</code> ! Although this default behaviour can look surprising, you will find that this feature is quite handy to define mix-in classes <em>with</em> attributes but <em>without</em> constructor. See <a href="https://smarie.github.io/python-mixture/">mixture</a> for discussion. Of course if you do not like this behaviour you can very easily <a href="#2-adding-a-constructor">add a constructor</a>.</p>
<p>Until it is accessed for the first time, a field is visible on an instance with <code>dir()</code> (because its definition is inherited from the class) but not with <code>vars()</code> (because it has not been initialized on the object):</p>
<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">dir</span><span class="p">(</span><span class="n">w</span><span class="p">)[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span>
<span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">vars</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="p">{}</span>
</code></pre></div>


<p>As soon as you access it, a field is replaced with a standard native python attribute, visible in <code>vars</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">w</span><span class="o">.</span><span class="n">color</span>  <span class="c1"># optional field: the default value is used on first &#39;read&#39; access</span>
<span class="s1">&#39;white&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">vars</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;white&#39;</span><span class="p">}</span>
</code></pre></div>


<p>Of course mandatory fields must be initialized:</p>
<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">w</span><span class="o">.</span><span class="n">height</span>  <span class="c1"># trying to read an uninitialized mandatory field</span>
<span class="n">pyfields</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">MandatoryFieldInitError</span><span class="p">:</span> \
   <span class="n">Mandatory</span> <span class="n">field</span> <span class="s1">&#39;height&#39;</span> <span class="n">has</span> <span class="ow">not</span> <span class="n">been</span> <span class="n">initialized</span> <span class="n">yet</span> <span class="n">on</span> <span class="n">instance</span> <span class="o">&lt;...&gt;.</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">w</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="mi">12</span>  <span class="c1"># initializing mandatory field explicitly</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">vars</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">}</span>
</code></pre></div>


<p>Your IDE (e.g. PyCharm) should recognize the name and type of the field, so you can already refer to it easily from other code using autocompletion:</p>
<p><img alt="pycharm_autocomplete1.png" src="imgs/autocomplete1.png" /></p>
<h4 id="b-default-value-factory">b - Default value factory<a class="headerlink" href="#b-default-value-factory" title="Permanent link">&para;</a></h4>
<p>We have seen above how to define an optional field by providing a default value. The behaviour with default values is the same than python's default: the same value is used for all objects. Therefore if your default value is a mutable object (e.g. a list) you should not use this mechanism, otherwise the same value will be shared by all instances that use the default:</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">BadPocket</span><span class="p">:</span>
    <span class="n">items</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="p">[])</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">BadPocket</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">p</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;thing&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">p</span><span class="o">.</span><span class="n">items</span>
<span class="p">[</span><span class="s1">&#39;thing&#39;</span><span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span> <span class="o">=</span> <span class="n">BadPocket</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span><span class="o">.</span><span class="n">items</span>
<span class="p">[</span><span class="s1">&#39;thing&#39;</span><span class="p">]</span>   <span class="c1"># &lt;--- this is not right ! </span>
</code></pre></div>


<p>To cover this use case and many others, you can use a "default value factory". A default value factory is a callable with a single argument: the object instance. It will be called everytime a default value is needed for a field on an object. You can either provide your own in the constructor:</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">Pocket</span><span class="p">:</span>
    <span class="n">items</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="k">lambda</span> <span class="n">obj</span><span class="p">:</span> <span class="p">[])</span>
</code></pre></div>


<p>or use the provided <code>@&lt;field&gt;.default_factory</code> decorator:</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">Pocket</span><span class="p">:</span>
    <span class="n">items</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>

    <span class="nd">@items</span><span class="o">.</span><span class="n">default_factory</span>
    <span class="k">def</span> <span class="nf">default_items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[]</span>
</code></pre></div>


<p>Finally, you can use the following built-in helper functions to cover most common cases:</p>
<ul>
<li><code>copy_value(&lt;value&gt;)</code> returns a factory that will create copies of the value</li>
<li><code>copy_field(&lt;field_or_name&gt;)</code> returns a factory that will create copies of the given object field</li>
<li><code>copy_attr(&lt;attr_name&gt;)</code> returns a factory that will create copies of the given object attribute (not necessary a field)</li>
</ul>
<h4 id="c-read-only-fields">c - Read-only fields<a class="headerlink" href="#c-read-only-fields" title="Permanent link">&para;</a></h4>
<p>You can define fields that can only be set once:</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">User</span><span class="p">:</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">read_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">u</span> <span class="o">=</span> <span class="n">User</span><span class="p">()</span>
<span class="n">u</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;john&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;name: </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">u</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="n">u</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;john2&quot;</span>
</code></pre></div>


<p>yields</p>
<div class="codehilite"><pre><span></span><code>name: john

pyfields.core.ReadOnlyFieldError: 
   Read-only field <span class="s1">&#39;&lt;...&gt;.User.name&#39;</span> has already been initialized on instance 
   &lt;&lt;...&gt;.User object at 0x000001CA70FA25F8&gt; and cannot be modified anymore.
</code></pre></div>


<p>Of course this makes more sense when an appropriate constructor is defined on the class as we'll see <a href="#2-adding-a-constructor">below</a>, but it also works independently.</p>
<p>Optional fields can also be "read-only" of course. But remember that in that case, <strong>reading</strong> the field on a brand new object will assign it to its default value - therefore is will not modifiable anymore:</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">User</span><span class="p">:</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">read_only</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;dummy&quot;</span><span class="p">)</span>

<span class="n">u</span> <span class="o">=</span> <span class="n">User</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;name: </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">u</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="n">u</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;john&quot;</span>
</code></pre></div>


<p>yields</p>
<div class="codehilite"><pre><span></span><code>name: dummy

pyfields.core.ReadOnlyFieldError: 
   Read-only field <span class="s1">&#39;&lt;...&gt;.User.name&#39;</span> has already been initialized on instance 
   &lt;&lt;...&gt;.User object at 0x000001ED05E22CC0&gt; and cannot be modified anymore.
</code></pre></div>


<p>In practice if you have your own constructor or if you generate one using the methods <a href="#2-adding-a-constructor">below</a>, it will work without problem. But when debugging your constructor with an IDE that automatically calls "repr" on your object you might have to remember it and take extra care.</p>
<h4 id="d-type-validation">d - Type validation<a class="headerlink" href="#d-type-validation" title="Permanent link">&para;</a></h4>
<p>You can add type validation to a field by setting <code>check_type=True</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">Wall</span><span class="p">:</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">check_type</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Height of the wall in mm.&quot;</span><span class="p">)</span>
    <span class="n">color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">check_type</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Color of the wall.&quot;</span><span class="p">)</span>
</code></pre></div>


<p>yields</p>
<div class="codehilite"><pre><span></span><code><span class="err">&gt;&gt;&gt; w = Wall()</span>
<span class="err">&gt;&gt;&gt; w.height = 1</span>
<span class="err">&gt;&gt;&gt; w.height = &#39;1&#39;</span>
<span class="c">TypeError: Invalid value type provided for &#39;Wall.height&#39;. \ </span>
<span class="c">  Value should be of type &#39;int&#39;. Instead, received a &#39;str&#39;: &#39;1&#39;</span>
</code></pre></div>


<p>By default the type used for validation is the one provided in the annotation. If you use python &lt; <code>3.6</code> or wish to override the annotation, you can explicitly fill the <code>type_hint</code> argument in <code>field()</code>. It supports both a single type or an iterable of alternate types (e.g. <code>(int, str)</code>). Note that PEP484 type comments are not taken into account - indeed it is not possible for python code to access type comments without source code inspection.</p>
<div class="admonition success">
<p class="admonition-title">PEP484 <code>typing</code> support</p>
<p>Now type hints relying on the <code>typing</code> module (PEP484) are correctly checked using whatever 3d party type checking library is available (<code>typeguard</code> is first looked for, then <code>pytypes</code> as a fallback). If none of these providers are available, a fallback implementation is provided, basically flattening <code>Union</code>s and replacing <code>TypeVar</code>s before doing <code>is_instance</code>. It is not guaranteed to support all <code>typing</code> subtleties.</p>
</div>
<h4 id="e-nonable-fields">e - Nonable fields<a class="headerlink" href="#e-nonable-fields" title="Permanent link">&para;</a></h4>
<p><strong>Definition</strong></p>
<p>A <em>nonable</em> field is a field that can be set to <code>None</code>. It can be mandatory, or optional. By default, <code>pyfields</code> tries to guess if a field is <em>nonable</em> :</p>
<ul>
<li>
<p>if a type hint is provided and it is PEP484 <code>typing.Optional[...]</code>, then this explicitly means that the fields is <em>nonable</em>. (Note: the choice of this name <code>Optional</code> is terrible but it is like that, see <a href="https://github.com/python/typing/issues/275#issuecomment-244736968">this discussion</a></p>
</li>
<li>
<p>if the field is optional with a default value of <code>None</code>, then this implicitly means that the field is <em>nonable</em>. This is not the recommended way anymore but it has the advantage of being compact, so it is supported by <code>pyfields</code>.</p>
</li>
<li>
<p>in all other cases, <code>pyfields</code> can not really tell and sets the field to <em>nonable=UNKNOWN</em>. </p>
</li>
</ul>
<p>You can override this behaviour by explicitly stating <code>field(nonable=True)</code> or <code>field(nonable=False)</code>.</p>
<p>See also <a href="https://stackoverflow.com/questions/57390073/how-to-type-check-a-function-in-python3-that-has-an-optional-argument-initially/57390124#57390124">this stack overflow answer</a>.</p>
<p><strong>Effect</strong></p>
<p>When a field is known to be <em>nonable</em>, all of its type checks and validators are skipped when <code>None</code> is received.</p>
<p>When a field is forced explicitly to <code>nonable=False</code>, by default nothing happens, this is just declarative. However as soon as the field has type checking or validation activated, then a <code>NoneError</code> will be raised when <code>None</code> is received.</p>
<h4 id="f-value-validation">f - Value validation<a class="headerlink" href="#f-value-validation" title="Permanent link">&para;</a></h4>
<p>You can add value (and type) validation to a field by providing <code>validators</code>. <code>pyfields</code> relies on <code>valid8</code> for validation, so the basic definition of a validation function is the same: it should be a <code>&lt;callable&gt;</code> with signature <code>f(value)</code>, returning <code>True</code> or <code>None</code> in case of success. </p>
<p>A validator consists in a base validation function, with an optional error message and an optional failure type. To specify all these elements, the supported syntax is the same than in <code>valid8</code>:</p>
<ul>
<li>
<p>For a single validator, either provide a <code>&lt;callable&gt;</code> or a tuple <code>(&lt;callable&gt;, &lt;error_msg&gt;)</code>, <code>(&lt;callable&gt;, &lt;failure_type&gt;)</code> or <code>(&lt;callable&gt;, &lt;error_msg&gt;, &lt;failure_type&gt;)</code>. See <a href="https://smarie.github.io/python-valid8/validation_funcs/c_simple_syntax/#1-one-validation-function">here</a> for details.</p>
</li>
<li>
<p>For several validators, either provide a list or a dictionary. See <a href="https://smarie.github.io/python-valid8/validation_funcs/c_simple_syntax/#2-several-validation-functions">here</a> for details.</p>
</li>
</ul>
<p>An example is probably better to picture this:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">mini_lambda</span> <span class="kn">import</span> <span class="n">x</span>
<span class="kn">from</span> <span class="nn">valid8.validation_lib</span> <span class="kn">import</span> <span class="n">is_in</span>

<span class="n">colors</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">}</span>

<span class="k">class</span> <span class="nc">Wall</span><span class="p">:</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">validators</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;should be a positive number&#39;</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span>
                                    <span class="s1">&#39;should be a multiple of 100&#39;</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">0</span><span class="p">},</span> 
                        <span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Height of the wall in mm.&quot;</span><span class="p">)</span>
    <span class="n">color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">validators</span><span class="o">=</span><span class="n">is_in</span><span class="p">(</span><span class="n">colors</span><span class="p">),</span> 
                       <span class="n">default</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> 
                       <span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Color of the wall.&quot;</span><span class="p">)</span>
</code></pre></div>


<p>yields</p>
<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Wall</span><span class="p">()</span><span class="w"></span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">w</span><span class="p">.</span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="w"></span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">w</span><span class="p">.</span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="n">valid8</span><span class="p">.</span><span class="n">entry_points</span><span class="p">.</span><span class="n">ValidationError</span><span class="o">[</span><span class="n">ValueError</span><span class="o">]</span><span class="err">:</span><span class="w"> </span>
<span class="w">    </span><span class="n">Error</span><span class="w"> </span><span class="n">validating</span><span class="w"> </span><span class="o">[</span><span class="n">&lt;...&gt;.Wall.height=1</span><span class="o">]</span><span class="p">.</span><span class="w"> </span>
<span class="w">    </span><span class="k">At</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">validation</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">failed</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="mf">1.</span><span class="w"> </span>
<span class="w">    </span><span class="nl">Successes</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">&#39;x &gt; 0&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nl">Failures</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="w"></span>
<span class="w">      </span><span class="s1">&#39;x % 100 == 0&#39;</span><span class="err">:</span><span class="w"> </span><span class="s1">&#39;InvalidValue: should be a multiple of 100. Returned False.&#39;</span><span class="w"></span>
<span class="w">    </span><span class="err">}</span><span class="p">.</span><span class="w"></span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">w</span><span class="p">.</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;magenta&#39;</span><span class="w"></span>
<span class="n">valid8</span><span class="p">.</span><span class="n">entry_points</span><span class="p">.</span><span class="n">ValidationError</span><span class="o">[</span><span class="n">ValueError</span><span class="o">]</span><span class="err">:</span><span class="w"> </span>
<span class="w">    </span><span class="n">Error</span><span class="w"> </span><span class="n">validating</span><span class="w"> </span><span class="o">[</span><span class="n">&lt;...&gt;.Wall.color=magenta</span><span class="o">]</span><span class="p">.</span><span class="w"> </span>
<span class="w">    </span><span class="nl">NotInAllowedValues</span><span class="p">:</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="err">{</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;white&#39;</span><span class="err">}</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">hold</span><span class="w"> </span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">x</span><span class="o">=</span><span class="n">magenta</span><span class="p">.</span><span class="w"> </span><span class="n">Wrong</span><span class="w"> </span><span class="k">value</span><span class="err">:</span><span class="w"> </span><span class="s1">&#39;magenta&#39;</span><span class="p">.</span><span class="w"></span>
</code></pre></div>


<p>For advanced validation scenarios you might with your validation callables to receive a bit of context. <code>pyfields</code> supports that the callables accept one, two or three arguments for this (where <code>valid8</code> supports only 1): <code>f(val)</code>, <code>f(obj, val)</code>, and <code>f(obj, field, val)</code>.</p>
<p>For example we can define walls where the width is a multiple of the length:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">valid8</span> <span class="kn">import</span> <span class="n">ValidationFailure</span>

<span class="k">class</span> <span class="nc">InvalidWidth</span><span class="p">(</span><span class="n">ValidationFailure</span><span class="p">):</span>
    <span class="n">help_msg</span> <span class="o">=</span> <span class="s1">&#39;should be a multiple of the height (</span><span class="si">{height}</span><span class="s1">)&#39;</span>

<span class="k">def</span> <span class="nf">validate_width</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">width</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">width</span> <span class="o">%</span> <span class="n">obj</span><span class="o">.</span><span class="n">height</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InvalidWidth</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">obj</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Wall</span><span class="p">:</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Height of the wall in mm.&quot;</span><span class="p">)</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">validators</span><span class="o">=</span><span class="n">validate_width</span><span class="p">,</span>
                       <span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Width of the wall in mm.&quot;</span><span class="p">)</span>
</code></pre></div>


<p>Finally, in addition to the above syntax, <code>pyfields</code> support that you add validators to a field after creation, using the <code>@field.validator</code> decorator:</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">Wall</span><span class="p">:</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Height of the wall in mm.&quot;</span><span class="p">)</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Width of the wall in mm.&quot;</span><span class="p">)</span>

    <span class="nd">@width</span><span class="o">.</span><span class="n">validator</span>
    <span class="k">def</span> <span class="nf">width_is_proportional_to_height</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width_value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">width_value</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidWidth</span><span class="p">(</span><span class="n">width_value</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</code></pre></div>


<p>As for all validators, the signature of the decorated function should be either <code>(value)</code>, <code>(obj/self, value)</code>, or <code>(obj/self, field, value)</code>.</p>
<p>Several such decorators can be applied on the same function, so as to mutualize implementation. In that case, you might wish to use the signature with 3 arguments so as to easily debug which field is being validated:</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">Wall</span><span class="p">:</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Height of the wall in mm.&quot;</span><span class="p">)</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Width of the wall in mm.&quot;</span><span class="p">)</span>

    <span class="nd">@height</span><span class="o">.</span><span class="n">validator</span>
    <span class="nd">@width</span><span class="o">.</span><span class="n">validator</span>
    <span class="k">def</span> <span class="nf">width_is_proportional_to_height</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width_value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">width_value</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InvalidWidth</span><span class="p">(</span><span class="n">width_value</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</code></pre></div>


<p>See <code>API reference</code> for details on <a href="api_reference/#ltfieldgtvalidator"><code>@&lt;field&gt;.validator</code></a>.</p>
<p>See <code>valid8</code> documentation for details about the <a href="https://smarie.github.io/python-valid8/validation_funcs/c_simple_syntax/">syntax</a> and available <a href="https://smarie.github.io/python-valid8/validation_funcs/b_base_validation_lib/">validation lib</a>.</p>
<h4 id="g-converters">g - Converters<a class="headerlink" href="#g-converters" title="Permanent link">&para;</a></h4>
<p>You can add converters to a field by providing <code>converters</code>. </p>
<p>A <code>Converter</code> consists in a <em>conversion function</em>, with an optional <em>name</em>, and an optional <em>acceptance criterion</em>. </p>
<ul>
<li>
<p>The <em>conversion function</em> should be a callable with signature <code>f(value)</code>, <code>f(obj/self, value)</code>, or <code>f(obj/self, field, value)</code>, returning the converted value in case of success and raising an exception in case of converion failure. </p>
</li>
<li>
<p>The optional <em>acceptance criterion</em> can be a type, or a callable. When a type is provided, <code>isinstance</code> is used as the callable. The definition for the callable is exactly the same than for validation callables, see previous section. In addition, one can use a wildcard <code>'*'</code> or <code>None</code> to denote "accept everything". In that case acceptance is basically reduced to the conversion function raising exceptions when it can not convert values.</p>
</li>
</ul>
<p>To add converters on a field using <code>field(converters=...)</code>, the supported syntax is the following:</p>
<ul>
<li>
<p>For a single converter, either provide a <code>Converter</code>, a <code>&lt;conversion_callable&gt;</code>, a tuple <code>(&lt;accepted_type&gt;, &lt;conversion_callable&gt;)</code>, or a tuple <code>(&lt;acceptance_callable&gt;, &lt;conversion_callable&gt;)</code>. </p>
</li>
<li>
<p>For several converters, either provide a list of elements above, or a dictionary. In case of a dictionary, the key is <code>&lt;accepted_type&gt;</code>/<code>&lt;acceptance_callable&gt;</code>, and the value is <code>&lt;conversion_callable&gt;</code>.</p>
</li>
</ul>
<p>For example</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">pyfields</span> <span class="kn">import</span> <span class="n">field</span>
<span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="n">f</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">type_hint</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">converters</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">type_hint</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">converters</span><span class="o">=</span><span class="p">{</span><span class="nb">str</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> 
                                         <span class="s1">&#39;*&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">})</span>
</code></pre></div>


<p>When a new value is set on a field, all of its converters are first scanned in order. Everytime a converter accepts a value, it is applied to convert it. The process stops at the first successful conversion, or after all converters have been tried. The obtained value (either the original one or the converted one) is then passed as usual to the validators (see previous section).</p>
<p>As for validators, you can easily define converters using a decorator <code>@&lt;field&gt;.converter</code>. As for all converters, the signature of the decorated function should be either <code>(value)</code>, <code>(obj/self, value)</code>, or <code>(obj/self, field, value)</code>.</p>
<p>Several such decorators can be applied on the same function, so as to mutualize implementation. In that case, you might wish to use the signature with 3 arguments so as to easily debug which field is being validated:</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">type_hint</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">check_type</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">m2</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">type_hint</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">check_type</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nd">@m</span><span class="o">.</span><span class="n">converter</span><span class="p">(</span><span class="n">accepts</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
    <span class="nd">@m2</span><span class="o">.</span><span class="n">converter</span>
    <span class="k">def</span> <span class="nf">from_anything</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;converting a value for </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">field</span><span class="o">.</span><span class="n">qualname</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</code></pre></div>


<p>You can check that everything works as expected:</p>
<div class="codehilite"><pre><span></span><code>&gt;&gt;&gt; <span class="nv">o</span> <span class="o">=</span> Foo<span class="o">()</span>
&gt;&gt;&gt; o.m2 <span class="o">=</span> <span class="s1">&#39;12&#39;</span>
converting a value <span class="k">for</span> Foo.m2
&gt;&gt;&gt; o.m2 <span class="o">=</span> <span class="m">1</span>.5
converting a value <span class="k">for</span> Foo.m2
&gt;&gt;&gt; o.m <span class="o">=</span> <span class="m">1</span>.5  <span class="c1"># doctest: +NORMALIZE_WHITESPACE</span>
Traceback <span class="o">(</span>most recent call last<span class="o">)</span>:
...
TypeError: Invalid value <span class="nb">type</span> provided <span class="k">for</span> <span class="s1">&#39;Foo.m&#39;</span>. Value should be of <span class="nb">type</span> &lt;class <span class="s1">&#39;int&#39;</span>&gt;.
  Instead, received a <span class="s1">&#39;float&#39;</span>: <span class="m">1</span>.5
</code></pre></div>


<p>Finally since debugging conversion issues might not be straightforward, a special <code>trace_convert</code> function is provided to output details about the outcome of each converter's acceptance and conversion step. This function is also available as a method of the field objects (obtained from the class).</p>
<div class="codehilite"><pre><span></span><code><span class="n">m_field</span> <span class="o">=</span> <span class="n">Foo</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;m&#39;</span><span class="p">]</span>
<span class="n">converted_value</span><span class="p">,</span> <span class="n">details</span> <span class="o">=</span> <span class="n">m_field</span><span class="o">.</span><span class="n">trace_convert</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">details</span><span class="p">)</span>
</code></pre></div>


<h4 id="h-native-vs-descriptor">h - Native vs. Descriptor<a class="headerlink" href="#h-native-vs-descriptor" title="Permanent link">&para;</a></h4>
<p><code>field()</code> by default creates a so-called <strong>native field</strong>. This special construct is designed to be as fast as a normal python attribute after the first access, so that performance is not impacted. This high level of performance has a drawback: validation and conversion are not possible on a native field. </p>
<p>So when you add type or value validation, or conversion, to a field, <code>field()</code> will automatically create a <strong>descriptor field</strong> instead of a native field. This is an object relying on the <a href="https://docs.python.org/howto/descriptor.html">python descriptor protocol</a>. Such objects have slower access time than native python attributes but provide convenient hooks necessary to perform validation and conversion.</p>
<p>For experiments, you can force a field to be a descriptor by setting <code>native=False</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">pyfields</span> <span class="kn">import</span> <span class="n">field</span>

<span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>               <span class="c1"># a native field</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">native</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>   <span class="c1"># a descriptor field</span>
</code></pre></div>


<p>We can easily see the difference (note: direct class access <code>Foo.a</code> is currently forbidden because of <a href="https://github.com/smarie/python-pyfields/issues/12">this issue</a>):</p>
<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">Foo</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="o">&lt;</span><span class="n">NativeField</span><span class="p">:</span> <span class="o">&lt;...&gt;.</span><span class="n">Foo</span><span class="o">.</span><span class="n">a</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">Foo</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span>
<span class="o">&lt;</span><span class="n">DescriptorField</span><span class="p">:</span> <span class="o">&lt;...&gt;.</span><span class="n">Foo</span><span class="o">.</span><span class="n">a</span><span class="o">&gt;</span>
</code></pre></div>


<p>And measure the difference in access time:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">timeit</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">set_a</span><span class="p">():</span> <span class="n">f</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">12</span>

<span class="k">def</span> <span class="nf">set_b</span><span class="p">():</span> <span class="n">f</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="mi">12</span>

<span class="k">def</span> <span class="nf">set_c</span><span class="p">():</span> <span class="n">f</span><span class="o">.</span><span class="n">c</span> <span class="o">=</span> <span class="mi">12</span>

<span class="n">ta</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="n">set_a</span><span class="p">)</span><span class="o">.</span><span class="n">timeit</span><span class="p">()</span>
<span class="n">tb</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="n">set_b</span><span class="p">)</span><span class="o">.</span><span class="n">timeit</span><span class="p">()</span>
<span class="n">tc</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="n">set_c</span><span class="p">)</span><span class="o">.</span><span class="n">timeit</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average time (ns) setting the field:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%0.2f</span><span class="s2"> (normal python) ; </span><span class="si">%0.2f</span><span class="s2"> (native field) ;&quot;</span> 
      <span class="s2">&quot; </span><span class="si">%0.2f</span><span class="s2"> (descriptor field)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">tc</span><span class="p">,</span> <span class="n">ta</span><span class="p">,</span> <span class="n">tb</span><span class="p">))</span>
</code></pre></div>


<p>yields (results depend on your machine):</p>
<div class="codehilite"><pre><span></span><code><span class="err">Average time (ns) setting the field:</span>
<span class="err">0.09 (normal python) ; 0.09 (native field) ; 0.44 (descriptor field)</span>
</code></pre></div>


<div class="admonition info">
<p class="admonition-title">Why are native fields so fast ?</p>
<p>Native fields are implemented as a <a href="https://docs.python.org/3.7/howto/descriptor.html">"non-data" python descriptor</a> that overrides itself on first access. So the first time the attribute is read, a small python method call extra cost is paid but the attribute is immediately replaced with a normal attribute inside the object <code>__dict__</code>. That way, subsequent calls use native python attribute access without overhead. This trick was inspired by <a href="https://tedboy.github.io/flask/generated/generated/werkzeug.cached_property.html">werkzeug's @cached_property</a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Adding validators or converters to native fields</p>
<p>If you run python <code>3.6</code> or greater and add validators or converters <strong>after</strong> field creation (typically using decorators), <code>field</code> will automatically replace the native field with a descriptor field. However with older python versions this is not always possible, so it is recommended that you explicitly state <code>native=False</code>.</p>
</div>
<h3 id="2-adding-a-constructor">2. Adding a constructor<a class="headerlink" href="#2-adding-a-constructor" title="Permanent link">&para;</a></h3>
<p><code>pyfields</code> provides you with several alternatives to add a constructor to a class equipped with fields. The reason why we do not follow the <a href="https://www.python.org/dev/peps/pep-0020/#the-zen-of-python">Zen of python</a> here (<em>"There should be one-- and preferably only one --obvious way to do it."</em>) is to recognize that different developers may have different coding style or philosophies, and to be as much as possible agnostic in front of these.</p>
<h4 id="a-make_init">a - <code>make_init</code><a class="headerlink" href="#a-make_init" title="Permanent link">&para;</a></h4>
<p><code>make_init</code> is the <strong>most compact</strong> way to add a constructor to a class with fields. With it you create your <code>__init__</code> method in one line:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">pyfields</span> <span class="kn">import</span> <span class="n">field</span><span class="p">,</span> <span class="n">make_init</span>

<span class="k">class</span> <span class="nc">Wall</span><span class="p">:</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Height of the wall in mm.&quot;</span><span class="p">)</span>
    <span class="n">color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Color of the wall.&quot;</span><span class="p">)</span>
<span class="hll">    <span class="fm">__init__</span> <span class="o">=</span> <span class="n">make_init</span><span class="p">()</span>
</span></code></pre></div>


<p>By default, all fields will appear in the constructor, in the order of appearance in the class and its parents, following the <code>mro</code> (method resolution order, the order in which python looks for a method in the hierarchy of classes). Since it is not possible for mandatory fields to appear <em>after</em> optional fields in the signature, all mandatory fields will appear first, and then all optional fields will follow.</p>
<p>The easiest way to see the result is probably to look at the help on your class:</p>
<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">help</span><span class="p">(</span><span class="n">Wall</span><span class="p">)</span>
<span class="n">Help</span> <span class="k">on</span> <span class="k">class</span> <span class="n">Wall</span> <span class="k">in</span> <span class="n">module</span> <span class="o">&lt;</span><span class="p">...</span><span class="o">&gt;</span><span class="p">:</span>

<span class="k">class</span> <span class="n">Wall</span><span class="p">(</span><span class="n">builtins</span><span class="p">.</span><span class="k">object</span><span class="p">)</span>
<span class="hll"> <span class="o">|</span>  <span class="n">Wall</span><span class="p">(</span><span class="n">height</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
</span> <span class="o">|</span>  <span class="p">(...)</span>
</code></pre></div>


<p>or you can inspect the method:</p>
<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="k">help</span><span class="p">(</span><span class="n">Wall</span><span class="p">.</span><span class="n">__init__</span><span class="p">)</span>
<span class="k">Help</span> <span class="k">on</span> <span class="k">function</span> <span class="n">__init__</span> <span class="k">in</span> <span class="n">module</span> <span class="o">&lt;</span><span class="p">...</span><span class="o">&gt;:</span>

<span class="hll"><span class="n">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
</span>    <span class="n">The</span> <span class="n">`__init__`</span> <span class="n">method</span> <span class="k">generated</span> <span class="k">for</span> <span class="n">you</span> <span class="k">when</span> <span class="n">you</span> <span class="k">use</span> <span class="n">`make_init`</span>
</code></pre></div>


<p>You can check that your constructor works as expected:</p>
<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">w</span> <span class="o">=</span> <span class="n">Wall</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">vars</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">w</span> <span class="o">=</span> <span class="n">Wall</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">vars</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">}</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">Wall</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="fm">__init__</span><span class="p">()</span> <span class="n">missing</span> <span class="mi">1</span> <span class="n">required</span> <span class="n">positional</span> <span class="n">argument</span><span class="p">:</span> <span class="s1">&#39;height&#39;</span>
</code></pre></div>


<p>If you do not wish the generated constructor to expose all fields, you can customize it by providing an <strong>explicit</strong> ordered list of fields. For example below only <code>height</code> will be in the constructor:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">pyfields</span> <span class="kn">import</span> <span class="n">field</span><span class="p">,</span> <span class="n">make_init</span>

<span class="k">class</span> <span class="nc">Wall</span><span class="p">:</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Height of the wall in mm.&quot;</span><span class="p">)</span>
    <span class="n">color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Color of the wall.&quot;</span><span class="p">)</span>

    <span class="c1"># only `height` will be in the constructor</span>
<span class="hll">    <span class="fm">__init__</span> <span class="o">=</span> <span class="n">make_init</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
</span></code></pre></div>


<p>The list can contain fields defined in another class, typically a parent class: </p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">pyfields</span> <span class="kn">import</span> <span class="n">field</span><span class="p">,</span> <span class="n">make_init</span>

<span class="k">class</span> <span class="nc">Wall</span><span class="p">:</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Height of the wall in mm.&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">ColoredWall</span><span class="p">(</span><span class="n">Wall</span><span class="p">):</span>
    <span class="n">color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Color of the wall.&quot;</span><span class="p">)</span>
    <span class="fm">__init__</span> <span class="o">=</span> <span class="n">make_init</span><span class="p">(</span><span class="n">Wall</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</code></pre></div>


<p>Note: a pending <a href="https://github.com/smarie/python-pyfields/issues/12">issue</a> prevents the above example to work, you have to use <code>Wall.__dict__['height']</code> instead of <code>Wall.height</code> to reference the field from the other class.</p>
<p>Finally, you can customize the created constructor by declaring a post-init method as the <code>post_init_fun</code> argument. This is roughly equivalent to <code>@init_fields</code> so we do not present it here, see <a href="api_reference/#make_init">documentation</a>.</p>
<h4 id="b-init_fields">b - <code>@init_fields</code><a class="headerlink" href="#b-init_fields" title="Permanent link">&para;</a></h4>
<p>If you prefer to write an init function as usual, you can use the <code>@init_fields</code> decorator to augment this init function's signature with all or some fields.</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">pyfields</span> <span class="kn">import</span> <span class="n">field</span><span class="p">,</span> <span class="n">init_fields</span>

<span class="k">class</span> <span class="nc">Wall</span><span class="p">:</span>
    <span class="n">height</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Height of the wall in mm.&quot;</span><span class="p">)</span>  <span class="c1"># type: int</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Color of the wall.&quot;</span><span class="p">)</span>  <span class="c1"># type: str</span>

<span class="hll">    <span class="nd">@init_fields</span>
</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor. After initialization, some print message is done</span>

<span class="sd">        :param msg: the message details to add</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;post init ! height=</span><span class="si">%s</span><span class="s2">, color=</span><span class="si">%s</span><span class="s2">, msg=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">,</span> <span class="n">msg</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">non_field_attr</span> <span class="o">=</span> <span class="n">msg</span>
</code></pre></div>


<p>Note: as you can see in this example, you can of course create other attributes in this init function (done in the last line here with <code>self.non_field_attr = msg</code>). Indeed, declaring fields in a class do not "pollute" the class, so you can do anything you like as usual.</p>
<p>You can check that the resulting constructor works as expected:</p>
<div class="codehilite"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">help</span><span class="p">(</span><span class="n">Wall</span><span class="p">)</span>
<span class="n">Help</span> <span class="n">on</span> <span class="k">class</span> <span class="n">Wall</span> <span class="ow">in</span> <span class="n">module</span> <span class="o">&lt;...&gt;</span><span class="p">:</span>
<span class="k">class</span> <span class="n">Wall</span><span class="p">(</span><span class="n">builtins</span><span class="o">.</span><span class="n">object</span><span class="p">)</span>
 <span class="o">|</span>  <span class="n">Wall</span><span class="p">(</span><span class="n">height</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="o">...</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">w</span> <span class="o">=</span> <span class="n">Wall</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;hey&#39;</span><span class="p">)</span>
<span class="n">post</span> <span class="n">init</span> <span class="o">!</span> <span class="n">height</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">white</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">hey</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">vars</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="s1">&#39;non_field_attr&#39;</span><span class="p">:</span> <span class="s1">&#39;hey&#39;</span><span class="p">}</span>
</code></pre></div>


<p>Note on the order of arguments in the resulting <code>__init__</code> signature: as you can see, <code>msg</code> appears between <code>height</code> and <code>color</code> in the signature. This is because all mandatory arguments appear first, then the optionals - and within each group, the user-provided ones (e.g. <code>msg</code>) appear first. You can change this behaviour by setting <code>init_args_before=False</code>. See <a href="api_reference/">API reference</a> for details.</p>
<h3 id="3-simplifying">3. Simplifying<a class="headerlink" href="#3-simplifying" title="Permanent link">&para;</a></h3>
<h4 id="a-autofields">a - <code>@autofields</code><a class="headerlink" href="#a-autofields" title="Permanent link">&para;</a></h4>
<p>Do you think that the above is still too verbose to define a class ? You can use <code>@autofields</code> to create fields and the constructor for you :</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">pyfields</span> <span class="kn">import</span> <span class="n">autofields</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>

<span class="nd">@autofields</span>
<span class="k">class</span> <span class="nc">Item</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>

<span class="nd">@autofields</span>
<span class="k">class</span> <span class="nc">Pocket</span><span class="p">:</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">items</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Item</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># test that the constructor works correctly</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Pocket</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">p</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">2</span>
<span class="n">p</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Item</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;a_name&quot;</span><span class="p">))</span>
</code></pre></div>


<p>Note that members that are already fields are not further transformed. Therefore you can still use <code>field()</code> on some members, for example if you need to specify custom validators, converters, or default factory.</p>
<p><code>@autofields</code> is just syntactic sugar for <code>field()</code> and <code>make_init()</code> - for example the <code>Pocket</code> class defined above is completely equivalent to: </p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">pyfields</span> <span class="kn">import</span> <span class="n">field</span><span class="p">,</span> <span class="n">copy_value</span><span class="p">,</span> <span class="n">make_init</span>

<span class="k">class</span> <span class="nc">Pocket</span><span class="p">:</span>
    <span class="n">size</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">type_hint</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">items</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">type_hint</span><span class="o">=</span><span class="n">List</span><span class="p">[</span><span class="n">Item</span><span class="p">],</span> 
                  <span class="n">default_factory</span><span class="o">=</span><span class="n">copy_value</span><span class="p">([]))</span>
    <span class="fm">__init__</span> <span class="o">=</span> <span class="n">make_init</span><span class="p">()</span>
</code></pre></div>


<p>By default type checking is not enabled on the generated fields, but you can enable it with <code>@autofields(check_types=True)</code>. You can also disable constructor creation with <code>@autofields(make_init=False)</code>. See <a href="https://smarie.github.io/python-pyfields/api_reference/#api">API reference</a> for details.</p>
<h4 id="b-vtypes">b - <code>VType</code>s<a class="headerlink" href="#b-vtypes" title="Permanent link">&para;</a></h4>
<p>Instead of registering validators in the field, you can now use <code>vtypes</code>. That way, everything is in the type: type checking AND value validation. </p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">pyfields</span> <span class="kn">import</span> <span class="n">field</span>
<span class="kn">from</span> <span class="nn">vtypes</span> <span class="kn">import</span> <span class="n">VType</span>

<span class="k">class</span> <span class="nc">NonEmpty</span><span class="p">(</span><span class="n">VType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A &#39;non empty&#39; validation type&quot;&quot;&quot;</span>
    <span class="n">__validators__</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;should be non empty&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">}</span>

<span class="k">class</span> <span class="nc">NonEmptyStr</span><span class="p">(</span><span class="n">NonEmpty</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A &#39;non empty string&#39; validation type&quot;&quot;&quot;</span>
    <span class="k">pass</span>

<span class="k">class</span> <span class="nc">Item</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">NonEmptyStr</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">doc</span><span class="o">=</span><span class="s2">&quot;the field name&quot;</span><span class="p">)</span>
</code></pre></div>


<p>Of course you can combine it with <code>@autofields</code> - do not forget <code>check_types=True</code> so that typechecking is enabled:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">pyfields</span> <span class="kn">import</span> <span class="n">autofields</span>

<span class="nd">@autofields</span><span class="p">(</span><span class="n">check_types</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Item</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">NonEmptyStr</span>
</code></pre></div>


<div class="admonition note">
<p class="admonition-title"><code>pytypes</code> does not currently support <code>vtype</code> so in order to benefit from this feature, you should either install <code>typeguard</code> or uninstall <code>pytypes</code> (to let the default <code>pyfields</code> type checker take over). See <a href="https://github.com/Stewori/pytypes/issues/86">this issue</a>.</p>
</div>
<h3 id="4-misc">4. Misc.<a class="headerlink" href="#4-misc" title="Permanent link">&para;</a></h3>
<h4 id="api">API<a class="headerlink" href="#api" title="Permanent link">&para;</a></h4>
<p><code>pyfields</code> offers an API so that other libraries can inspect the fields: <code>get_fields</code>, <code>yield_fields</code>, <code>has_fields</code>, <code>get_field</code>. See <a href="https://smarie.github.io/python-pyfields/api_reference/#api">API reference</a> for details.</p>
<h4 id="hash-dict-eq-repr">hash, dict, eq, repr<a class="headerlink" href="#hash-dict-eq-repr" title="Permanent link">&para;</a></h4>
<p><code>autoclass</code> is now compliant with <code>pyfields</code>. So you can use <code>@autoclass</code>, or <code>@autorepr</code>, <code>@autohash</code>, <code>@autodict</code>... on the decorated class. That way, your fields definition is directly reused for most of the class behaviour. </p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">autoclass</span> <span class="kn">import</span> <span class="n">autoclass</span>
<span class="kn">from</span> <span class="nn">pyfields</span> <span class="kn">import</span> <span class="n">field</span>

<span class="nd">@autoclass</span>
<span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="n">msg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
    <span class="n">age</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>          <span class="c1"># automatic string representation</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">foo</span><span class="p">))</span>    <span class="c1"># automatic dict view</span>

<span class="k">assert</span> <span class="n">foo</span> <span class="o">==</span> <span class="n">Foo</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>     <span class="c1"># automatic equality comparison </span>
<span class="k">assert</span> <span class="n">foo</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;msg&#39;</span><span class="p">:</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">}</span>  <span class="c1"># automatic eq comparison with dicts</span>
</code></pre></div>


<p>yields</p>
<div class="codehilite"><pre><span></span><code><span class="err">Foo(msg=&#39;hello&#39;, age=12)</span>
<span class="err">{&#39;msg&#39;: &#39;hello&#39;, &#39;age&#39;: 12}</span>
</code></pre></div>


<p>See <a href="https://smarie.github.io/python-autoclass/#pyfields-combo">here</a> for details.</p>
<h4 id="slots">Slots<a class="headerlink" href="#slots" title="Permanent link">&para;</a></h4>
<p>You can use <code>pyfields</code> if your class has <code>__slots__</code>. You will simply have to use an underscore in the slot name corresponding to a field: <code>_&lt;field_name&gt;</code>. For example:</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">WithSlots</span><span class="p">:</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;_a&#39;</span><span class="p">,)</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
</code></pre></div>


<p>Since from <a href="https://docs.python.org/3/reference/datamodel.html#slots">python documentation</a>, <em>"class attributes cannot be used to set default values for instance variables defined by <code>__slots__</code>"</em>, <strong>native fields are not supported with <code>__slots__</code></strong>. If you run python <code>3.6</code> or greater, <code>field</code> will automatically detect that a field is used on a class with <code>__slots__</code> and will replace the native field with a descriptor field. However with older python versions this is not always possible, so it is recommended that you explicitly state <code>native=False</code>.</p>
<p>Note that if your class is a dual class (meaning that it declares a slot named <code>__dict__</code>), then <strong>native fields are supported</strong> and you do not have anything special to do (not even declaring a slot for the field).</p>
<h2 id="main-features-benefits">Main features / benefits<a class="headerlink" href="#main-features-benefits" title="Permanent link">&para;</a></h2>
<p>See <a href=".">top of the page</a></p>
<h2 id="see-also">See Also<a class="headerlink" href="#see-also" title="Permanent link">&para;</a></h2>
<p>This library was inspired by:</p>
<ul>
<li><a href="https://werkzeug.palletsprojects.com/en/0.15.x/utils/#werkzeug.utils.cached_property"><code>werkzeug.cached_property</code></a></li>
<li><a href="http://www.attrs.org/"><code>attrs</code></a></li>
<li><a href="https://docs.python.org/3/library/dataclasses.html"><code>dataclasses</code></a></li>
<li><a href="https://smarie.github.io/python-autoclass/"><code>autoclass</code></a></li>
<li><a href="https://pydantic-docs.helpmanual.io/"><code>pydantic</code></a></li>
</ul>
<h3 id="others">Others<a class="headerlink" href="#others" title="Permanent link">&para;</a></h3>
<p><em>Do you like this library ? You might also like <a href="https://github.com/smarie/OVERVIEW#python">my other python libraries</a></em> </p>
<h2 id="want-to-contribute">Want to contribute ?<a class="headerlink" href="#want-to-contribute" title="Permanent link">&para;</a></h2>
<p>Details on the github page: <a href="https://github.com/smarie/python-pyfields">https://github.com/smarie/python-pyfields</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
        
          <a href="why/" title="Why fields" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Why fields
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/vendor.2d1db4bd.min.js"></script>
      <script src="assets/javascripts/bundle.6627ddf3.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.placeholder": "Type to start searching", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.result.other": "# matching documents", "clipboard.copied": "Copied to clipboard", "search.config.separator": "[\\s\\-]+"}</script>
      
      <script>
        app = initialize({
          base: ".",
          features: [],
          search: Object.assign({
            worker: "assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>